# ========================================
# CONFIGURAÇÃO DO SERVIDOR
# ========================================
spring.application.name=plataformacursos
server.port=8080

# ========================================
# BANCO DE DADOS H2 (LOCAL - SEM SERVIDOR EXTERNO)
# ========================================
spring.datasource.url=jdbc:h2:file:./data/plataformacursos
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# ========================================
# CONFIGURAÇÃO JPA/HIBERNATE
# ========================================
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.defer-datasource-initialization=true

# ========================================
# CONSOLE H2 (INTERFACE WEB PARA GERENCIAR DADOS)
# ========================================
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# ========================================
# INICIALIZAÇÃO DE DADOS
# ========================================
# Alterado para 'never' para não reexecutar o data.sql quando o banco já existe
spring.sql.init.mode=never
spring.jpa.defer-datasource-initialization=true

# ========================================
# SEGURANÇA (DESABILITADA PARA FACILITAR TESTES)
# ========================================
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration

# ========================================
# PARA USAR MYSQL EM PRODUÇÃO, DESCOMENTE:
# ========================================
# spring.datasource.url=jdbc:mysql://localhost:3306/plataformacursos?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true
# spring.datasource.username=root
# spring.datasource.password=sua_senha
# spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect
# spring.jpa.hibernate.ddl-auto=update
